{"ast":null,"code":"var _jsxFileName = \"F:\\\\Portfolio projects\\\\Chatio v2\\\\client\\\\src\\\\component\\\\Home.js\";\nimport React, { useEffect, useState } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport socketClient from 'socket.io-client';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport SendIcon from '@material-ui/icons/Send';\nimport ChatBubbleOutlineOutlinedIcon from '@material-ui/icons/ChatBubbleOutlineOutlined';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport ChatBubble from './ChatBubble';\nimport GreetingBubble from './GreetingBubble';\nimport { initiateSocket, disconnectSocket, sendMessageInRoom, receiveMessageAndDisplay, display } from '../utils/SocketFunctions';\n\nfunction Home(props) {\n  const room = props.location.state.roomName;\n  const [successConnect, setConnect] = useState(\"\");\n  const [disconnect, setDisconnect] = useState(\"\");\n  const [chat, setChat] = useState(\"\");\n  const [userCount, setCount] = useState(0);\n  const [messagePool, setPool] = useState([]);\n  const [message, setMessage] = useState(\"\");\n  useEffect(() => {\n    initiateSocket(room);\n    let chat = receiveMessageAndDisplay();\n\n    if (chat !== '') {\n      addToChat(chat);\n    }\n\n    return () => {\n      disconnectSocket();\n    };\n  }, []);\n\n  const addToChat = chat => {\n    setPool(state => ({\n      messagePool: [...state, chat]\n    }));\n  };\n\n  const sendComment = e => {\n    setMessage(e.target.value);\n  };\n\n  const sendMessage = () => {\n    sendMessageInRoom(room, message);\n    setMessage(\"\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    style: {\n      display: 'flex',\n      flexDirection: \"column\",\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    elevation: 8,\n    style: {\n      height: 600,\n      width: 1000,\n      marginTop: 50,\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      backgroundColor: '#f5fafc'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    evelation: 15,\n    style: {\n      height: 400,\n      width: 800,\n      marginTop: 50,\n      marginBottom: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Scrollbars, {\n    autoHide: true,\n    style: {\n      overflowX: 'hidden'\n    },\n    autoHideTimeout: 1000,\n    autoHideDuration: 200,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(GreetingBubble, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 12\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'flex-start'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    name: \"comment\",\n    style: {\n      width: 400,\n      marginLeft: 100\n    },\n    value: message,\n    onChange: sendComment,\n    InputProps: {\n      startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(ChatBubbleOutlineOutlinedIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }\n      }))\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: sendMessage,\n    style: {\n      marginLeft: 10,\n      width: 100\n    },\n    variant: \"contained\",\n    startIcon: /*#__PURE__*/React.createElement(SendIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 24\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, \"SEND\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'flex-start',\n      width: '100%',\n      marginLeft: 200\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 16\n    }\n  }, \"Currently in a \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 34\n    }\n  }, room), \" room\"))));\n}\n\nexport default Home;","map":{"version":3,"sources":["F:/Portfolio projects/Chatio v2/client/src/component/Home.js"],"names":["React","useEffect","useState","Paper","socketClient","Button","TextField","SendIcon","ChatBubbleOutlineOutlinedIcon","InputAdornment","Scrollbars","ChatBubble","GreetingBubble","initiateSocket","disconnectSocket","sendMessageInRoom","receiveMessageAndDisplay","display","Home","props","room","location","state","roomName","successConnect","setConnect","disconnect","setDisconnect","chat","setChat","userCount","setCount","messagePool","setPool","message","setMessage","addToChat","sendComment","e","target","value","sendMessage","flexDirection","alignItems","height","width","marginTop","backgroundColor","marginBottom","overflowX","justifyContent","marginLeft","startAdornment"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport Paper from '@material-ui/core/Paper'\r\nimport socketClient from 'socket.io-client'\r\nimport Button from '@material-ui/core/Button'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport SendIcon from '@material-ui/icons/Send'; \r\nimport ChatBubbleOutlineOutlinedIcon from '@material-ui/icons/ChatBubbleOutlineOutlined';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport ChatBubble from './ChatBubble';\r\nimport GreetingBubble from './GreetingBubble';\r\nimport {initiateSocket, disconnectSocket, sendMessageInRoom, receiveMessageAndDisplay, display} from '../utils/SocketFunctions';\r\nfunction Home(props) {\r\n  \r\n  const room = props.location.state.roomName;\r\n  const [successConnect, setConnect] = useState(\"\");\r\n  const [disconnect, setDisconnect] = useState(\"\");\r\n  const [chat, setChat] = useState(\"\");\r\n  const [userCount, setCount] = useState(0);\r\n  const [messagePool, setPool] = useState([]);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n\r\n\r\n  useEffect(()=>{\r\n   initiateSocket(room);\r\n   let chat = receiveMessageAndDisplay();\r\n   if(chat !== ''){\r\n   addToChat(chat);\r\n   }\r\n   return () => {\r\n    disconnectSocket();\r\n  }\r\n  },[])\r\n\r\n  const addToChat = (chat) =>{\r\n     setPool(state => ({\r\n       messagePool:[...state,chat]\r\n     }));\r\n  }\r\n\r\n  const sendComment = (e) =>{\r\n      setMessage(e.target.value);\r\n  }\r\n\r\n  const sendMessage = () =>{\r\n    sendMessageInRoom(room, message);\r\n    setMessage(\"\");\r\n  }\r\n   \r\n  return (\r\n    <div className=\"App\" style={{display:'flex', flexDirection:\"column\", alignItems:'center'}}>\r\n        <Paper elevation={8} style={{height:600, width:1000, marginTop:50, display:'flex', flexDirection:'column', alignItems:'center', backgroundColor:'#f5fafc'}}>\r\n           \r\n            <Paper evelation={15} style={{height:400, width:800, marginTop:50, marginBottom:20,}}>\r\n                <Scrollbars autoHide\r\n         style={{overflowX:'hidden'}}\r\n         autoHideTimeout={1000}\r\n         autoHideDuration={200}>\r\n           <GreetingBubble/>\r\n                  {/* {messagePool!== null && messagePool.map((el,i) => <ChatBubble key={i} chat={el}/>)} */}\r\n                </Scrollbars>\r\n            </Paper>\r\n           <div style={{width:'100%', display:'flex', flexDirection:'row', justifyContent:'flex-start'}}>\r\n            <TextField name=\"comment\" style={{width:400, marginLeft:100}} value={message} onChange={sendComment} InputProps={{\r\n              startAdornment:(\r\n                <InputAdornment position=\"start\">\r\n                    <ChatBubbleOutlineOutlinedIcon />\r\n              </InputAdornment>\r\n              )\r\n            }}></TextField>\r\n            <Button color=\"primary\" onClick={sendMessage}\r\n            style={{marginLeft:10, width:100}}\r\n            variant=\"contained\"\r\n            startIcon={<SendIcon />}\r\n      >SEND</Button>\r\n            </div>\r\n            <div style={{display:'flex', flexDirection:'row', justifyContent:'flex-start', width:'100%', marginLeft:200}}>\r\n               <p>Currently in a <b>{room}</b> room</p>\r\n            </div>\r\n        </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}